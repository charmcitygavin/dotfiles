- defaults:
    link:
      create: true
      relink: true

- clean: ["~", "${XDG_CONFIG_HOME}"]

- shell:
    - [git submodule update --init --recursive, Installing submodules]

    - description: Set XDG environment variables
      command: source ./zsh/.zshenv

- link:
    # Essential configs
    ~/.zshenv: { path: zsh/.zshenv, force: true }
    ${XDG_CONFIG_HOME}/zsh: zsh
    ${XDG_CONFIG_HOME}/tmux: tmux

    # Homebrew config
    ${XDG_CONFIG_HOME}/.Brewfile:
      if: "[ `uname` = Darwin ]"
      path: macos/Brewfile

    # oh-my-zsh config
    ~/.oh-my-zsh: oh-my-zsh

    # Utility config files
    # ${XDG_CONFIG_HOME}/git/.gitconfig: general/.gitconfig
